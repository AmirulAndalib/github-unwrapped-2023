import { getLength, getPointAtLength } from "@remotion/paths";
import { createRef } from "react";

export const bodyRef = createRef<SVGGElement>();

export const OctocatBody: React.FC<{
  d: string;
  progress: number;
  endOffsetX: number;
  endOffsetY: number;
  rotation: number;
}> = ({ d, progress, endOffsetX, endOffsetY, rotation }) => {
  const length = getLength(d);
  // TODO: Should be final path, not current path
  const endPosition = getPointAtLength(d, length);

  const currentPosition = getPointAtLength(d, length * progress);

  const offsetX = currentPosition.x - endPosition.x;
  const offsetY = currentPosition.y - endPosition.y;

  return (
    <g
      style={{
        transform: `translateX(${offsetX}px) translateY(${offsetY}px)`,
      }}
    >
      <g
        style={{
          transformBox: "fill-box",
          transformOrigin: "83% 67%",
          transform: `rotate(${rotation}rad)`,
        }}
      >
        <g ref={bodyRef} transform={`translate(${endOffsetX} ${endOffsetY})`}>
          <path
            d="M1095.39 871.5C1091.08 867.82 1094.28 861.53 1090.91 856.96C1086.95 851.56 1082.62 835.89 1089.62 831.73C1089.62 831.73 1096.86 826.7 1109.34 848.63C1109.99 849.77 1096.62 863.96 1095.39 871.5Z"
            fill="#152C4D"
          />
          <path
            d="M1105.72 840.98C1101.95 835.6 1101.9 832.93 1096.66 832.93C1095.42 832.93 1091.51 836.56 1092.1 837.75C1096.75 834.06 1106.51 846.75 1103.1 850.42C1103.56 850.11 1103.8 850.02 1103.93 850.05C1104.15 850.1 1104.04 850.51 1104.07 850.82C1104.09 851.01 1104.16 851.16 1104.4 851.16C1104.54 851.16 1104.75 851.12 1105.04 850.99H1105.05C1105.05 850.99 1105.05 850.98 1105.05 850.97C1105.07 850.93 1105.09 850.88 1105.12 850.84C1106.02 849.33 1112.69 849.38 1113.15 848.01C1113.25 847.72 1107.11 842.99 1105.7 840.98H1105.72Z"
            fill="#253F7E"
          />
          <path
            d="M1111.36 792.88C1111.12 792.66 1084.43 796.55 1083.99 796.3C1084.15 796.48 1066.39 819.75 1066.28 820.05C1066.01 820.24 1067.49 830.72 1069.02 829.85C1069.02 829.85 1080.64 820.12 1083.19 822.66C1084.6 824.07 1086.16 828.43 1086.53 836.05C1087.27 834.7 1088.37 834.01 1089.58 833.38C1092.92 830.11 1098.36 834.55 1100.68 834.35C1100.68 834.35 1101.11 828.16 1100.77 824.84C1100.69 824.04 1101.31 823.35 1102.11 823.34C1104.22 823.31 1106.43 823.36 1108.26 823.07C1106.23 823.04 1111.34 792.9 1111.34 792.9L1111.36 792.88Z"
            fill="#0A0A17"
          />
          <path
            d="M1101.33 832.75C1101.18 835.26 1100.99 835.39 1098.13 834.39C1083.82 835.38 1103.29 815.95 1101.33 832.75Z"
            fill="#B2BDBC"
          />
          <path
            d="M1069.3 818.44C1068.35 820.02 1066.5 825.02 1067.89 824.48C1075.13 821.66 1075.5 824.1 1072.2 826.9C1068.9 829.7 1060.59 839.83 1052.21 844.13C1047.77 846.41 1044.34 844.2 1042.33 840.78C1041.08 838.65 1038.17 834.41 1037.46 829.85C1036.9 826.29 1036.38 822.29 1041.13 821.46C1045.88 820.63 1057.92 819.48 1066.13 815.34C1074.34 811.2 1069.67 817.85 1069.31 818.45L1069.3 818.44Z"
            fill="#152C4D"
          />
          <path
            d="M1094.39 746.39C1090.7 745.7 1089.04 748.92 1089.32 751.51C1089.32 751.56 1094.26 748.88 1094.39 746.39Z"
            fill="#132944"
          />
          <path
            d="M1094.19 746.41C1094.2 748.41 1091.97 747.75 1091.42 749.25C1091.11 750 1090.3 748.57 1089.87 749.07C1089.72 750.02 1090.6 750.96 1089.32 751.5C1090.44 751.09 1098.91 746.05 1094.2 746.4L1094.19 746.41Z"
            fill="#07192B"
          />
          <path
            d="M1123.84 790.87C1124.06 789.1 1106.35 788.1 1104.12 786.44C1097.96 783.63 1093.2 779.23 1086.81 778.59C1085.8 779.99 1080.1 780.9 1078.85 781.67C1075.34 783.82 1069.31 801.45 1070.1 802.54C1071.11 803.24 1081.77 811.39 1081.77 811.39C1082.17 815.82 1090.22 820.24 1093.44 820.24C1095.28 820.24 1103.54 826.33 1104.91 824.26L1117.59 808.97C1119.71 805.76 1123.7 791.88 1123.83 790.86L1123.84 790.87Z"
            fill="#152C4D"
          />
          <path
            d="M1082.58 771.39C1082.18 772.28 1079.52 772.26 1079.38 772.09C1079.31 772.02 1079.28 771.9 1079.34 771.76C1080.11 770.35 1077.9 770.77 1078.32 769.34C1079.85 771.21 1081.41 768.46 1082.59 771.39H1082.58Z"
            fill="#8E6543"
          />
          <path
            d="M1083.59 758.87C1083.66 758.71 1083.73 758.54 1083.81 758.38C1081.95 761.44 1082.71 764.06 1081.88 765.83C1081.82 765.96 1081.75 766.08 1081.67 766.2C1081.67 766.21 1081.65 766.23 1081.64 766.24C1081.31 766.71 1080.82 767.11 1080.07 767.42C1080.05 767.42 1080.03 767.42 1080.01 767.41H1079.99C1079.79 767.38 1079.59 767.43 1079.4 767.53C1079.4 767.53 1079.38 767.54 1079.37 767.55C1078.53 768 1077.84 769.35 1078.29 769.71C1078.58 769.94 1079.39 770.74 1082.36 771.17C1080.19 771.54 1079.38 771.52 1079.39 772.14C1079.4 772.88 1079.93 774.15 1081.6 774.76C1081.69 774.79 1084.36 774.35 1085.22 774.31C1086.1 774.27 1087.88 774.4 1087.88 774.42C1087.86 774.47 1088.14 773.89 1088.31 773.55C1088.97 772.23 1090.35 770.01 1091.44 767.47C1092.3 765.46 1092.98 763.25 1092.98 761.11C1093.46 753.83 1088.45 753.02 1083.6 758.86L1083.59 758.87Z"
            fill="#C2936F"
          />
          <path
            d="M1084.19 766.12C1084.1 765.87 1084.16 765.02 1084.39 764.71C1084.78 764.17 1085.2 763.16 1085.6 762.5C1086.81 760.49 1088.34 760.23 1087.73 764.39C1087.42 766.53 1084.8 767.73 1084.2 766.12H1084.19Z"
            fill="#DCD5D1"
          />
          <path
            d="M1081.93 765.82C1081.85 766.41 1080.77 767.73 1079.2 767.75C1078.85 767.75 1078.72 767.2 1079.49 766.41C1079.92 765.96 1081.77 765.84 1081.94 765.82H1081.93Z"
            fill="#7E4A2C"
          />
          <path
            d="M1115.67 782.21C1115.03 782.58 1111.19 784.84 1108.3 783.79C1108.17 783.74 1087.86 774.46 1087.89 774.39C1087.97 774.18 1088.12 773.91 1088.3 773.56C1089.02 772.25 1090.36 770.03 1091.43 767.48C1092.27 765.47 1092.94 763.25 1092.97 761.12C1092.97 760.69 1092.96 760.25 1092.91 759.83C1092.78 758.72 1092.45 757.64 1091.84 756.66C1090.23 754.04 1086.64 755.43 1083.59 758.87C1083.66 758.71 1083.73 758.54 1083.81 758.38C1083.81 758.38 1083.81 758.38 1083.81 758.37C1088.52 747.95 1095.49 746.16 1101.1 745.39C1111.36 743.98 1122.52 750.96 1124.65 759.07C1127.26 769.04 1122.37 778.36 1115.68 782.21H1115.67Z"
            fill="#132944"
          />
          <path
            d="M1086.04 762.88C1085.98 763.04 1085.88 763.35 1085.74 763.69C1085.42 764.52 1084.95 765.6 1084.52 765.61C1084.4 765.61 1084.28 765.53 1084.17 765.32C1083.93 764.08 1086.82 760.15 1086.03 762.88H1086.04Z"
            fill="#704C2D"
          />
          <path
            d="M1111.89 789.49H1111.88V789.48L1111.89 789.49Z"
            fill="#E2DBE2"
          />
          <path
            d="M1106.69 753.56C1106.45 752.26 1105.64 751 1105.04 749.82C1105.11 752.64 1103.17 755 1100.28 754.33C1101.36 756.94 1107.42 757.86 1106.68 753.55L1106.69 753.56Z"
            fill="#07192B"
          />
          <path
            d="M1099.08 751.08C1099.88 752.52 1100.44 748.7 1101.21 751.06C1102.26 747.05 1100.02 748.4 1099.08 751.08Z"
            fill="#07192B"
          />
          <path
            d="M1064.47 817.41C1061.65 819.96 1045.42 824.87 1047.45 820.19C1052.62 820.3 1060.83 815.53 1064.47 817.41Z"
            fill="#B7B6C3"
          />
          <path
            d="M1045.26 823.52C1045.05 826.62 1037.95 828.12 1038.5 824.11C1039.91 821.03 1046.07 820.57 1045.26 823.52Z"
            fill="#657B95"
          />
          <path
            d="M1060.97 804.78C1060.97 804.78 1060.97 804.78 1060.96 804.79C1060.96 804.79 1060.97 804.79 1060.98 804.78H1060.97Z"
            fill="#8E9FC7"
          />
          <path
            d="M1060.95 804.8C1060.95 804.8 1060.96 804.8 1060.97 804.79C1060.97 804.79 1060.97 804.79 1060.96 804.8C1060.96 804.8 1060.96 804.8 1060.95 804.8Z"
            fill="#658497"
          />
          <path
            d="M1058.33 824.67C1057.54 830.32 1047.51 832.78 1041.95 833.82C1041.95 833.65 1041.63 827.51 1043.94 827.34C1048.29 827 1058.65 822.39 1058.34 824.67H1058.33Z"
            fill="#624888"
          />
          <path
            d="M1060.04 831.12C1057.83 835.75 1053.72 839.15 1048.17 841.58C1045.1 842.93 1041.58 833.59 1041.75 833.61C1051.6 834.74 1060.65 817.63 1060.05 831.11L1060.04 831.12Z"
            fill="#202F63"
          />
          <path
            d="M1108.43 867.34C1107.73 868.11 1107.06 868.79 1106.42 869.39C1099.86 875.56 1096.35 873.37 1095.39 871.29C1095.33 871.16 1095.28 871.02 1095.23 870.87C1094.9 869.78 1094.92 868.07 1095.46 865.92V865.9C1095.97 863.89 1096.93 861.48 1098.49 858.84C1098.55 858.75 1098.6 858.65 1098.66 858.55C1098.68 858.52 1098.7 858.48 1098.72 858.45C1099.18 857.7 1099.69 856.92 1100.25 856.13C1100.25 856.13 1100.26 856.12 1100.26 856.11C1100.95 855.14 1101.72 854.14 1102.57 853.13C1102.87 852.77 1103.17 852.43 1103.47 852.11C1104.09 851.45 1104.69 850.87 1105.27 850.38C1105.3 850.35 1105.33 850.33 1105.36 850.3C1105.47 850.21 1105.58 850.12 1105.69 850.04C1105.69 850.04 1105.78 849.96 1105.83 849.93C1106.04 849.77 1106.24 849.62 1106.44 849.48C1107.39 848.83 1108.28 848.39 1109.12 848.12C1109.4 848.03 1109.68 847.96 1109.95 847.91C1109.97 847.91 1109.98 847.91 1110 847.9C1110.11 847.88 1110.21 847.86 1110.31 847.85C1111.37 847.7 1112.31 847.83 1113.13 848.12C1115.29 848.89 1116.14 851.67 1116.34 853.28C1116.62 855.55 1116.24 858.71 1108.37 867.37L1108.43 867.34Z"
            fill="#B2BDBC"
          />
          <path
            d="M1112.68 862.03C1105 878 1087.53 877.89 1098.48 859.27C1094.86 871.35 1099.36 877.48 1112.68 862.03Z"
            fill="#949880"
          />
          <path
            d="M1104.14 850.75C1104.01 850.94 1103.87 851.09 1103.71 851.22C1103.25 851.6 1102.69 851.71 1102.08 851.63C1101.38 851.53 1100.59 851.17 1099.79 850.63C1099.5 850.44 1099.2 850.22 1098.91 849.99C1097.66 849 1096.4 847.7 1095.32 846.41C1095.17 846.23 1095.02 846.05 1094.88 845.87C1093.95 844.71 1093.19 843.61 1092.74 842.81C1092.62 842.59 1092.52 842.4 1092.45 842.24C1092.45 842.24 1092.45 842.24 1092.45 842.23C1091.87 840.62 1091.58 839.37 1091.52 838.42C1091.52 838.34 1091.52 838.26 1091.52 838.18C1091.52 837.97 1091.52 837.77 1091.54 837.59C1091.57 837.35 1091.62 837.14 1091.69 836.95C1092.09 835.89 1093.14 835.74 1094.49 836.23C1094.83 836.35 1095.2 836.52 1095.58 836.72C1100.03 839.1 1106.27 846.52 1104.17 850.75H1104.14Z"
            fill="#3D2765"
          />
          <path
            d="M1080.9 783.31C1081.47 781.83 1078.36 782.63 1077.07 781.76C1072.52 789.87 1070.3 800.54 1070.31 800.53C1070.31 800.53 1074.22 798.98 1074.72 797.78"
            fill="#8E9FC7"
          />
          <path
            d="M1064.12 798.92C1059.86 797.55 1057.38 797.15 1055.57 800.82C1053.76 804.49 1055.87 807.17 1056.92 810.22C1057.97 813.27 1059.52 817.77 1063.65 819.09C1067.78 820.41 1073.42 809.57 1071.4 805.9C1069.38 802.23 1066.6 799.72 1064.12 798.92Z"
            fill="#2F1E35"
          />
          <path
            d="M1094.9 799.83C1094.02 805.45 1084.16 812.87 1079.62 810.28C1077.79 809.24 1071.12 795.29 1078.24 794.75C1082.08 775.06 1097.05 786.08 1094.9 799.83Z"
            fill="#608998"
          />
          <path
            d="M1077.93 807.88C1076.28 803.12 1079.98 792.61 1070.62 796.47C1070.62 796.47 1067.49 798.37 1067.23 799.58C1066.66 802.24 1073.53 816.34 1073.53 816.34C1073.53 816.34 1083.03 810.68 1083.06 810.66C1082.98 810.66 1078.55 809.66 1077.94 807.88H1077.93ZM1073.78 805.67C1073.78 805.67 1073.78 805.67 1073.79 805.67H1073.78Z"
            fill="#2F1E35"
          />
          <path
            d="M1092.7 800.55C1091.11 803.99 1080.86 811.79 1078.89 805.82C1077.28 800.48 1083.92 799.82 1086.39 796.73C1091.61 790.2 1094.67 795.85 1092.7 800.56V800.55Z"
            fill="#D6DCDF"
          />
          <path
            d="M1076.56 811.43V811.41C1076.57 811.25 1076.58 811.1 1076.57 810.94C1076.55 810.68 1076.51 810.43 1076.46 810.2C1076.46 810.2 1076.46 810.19 1076.46 810.18C1076.46 810.15 1076.45 810.12 1076.44 810.08C1076.12 808.83 1075.36 808.03 1074.5 807.22C1074.25 806.99 1074 806.76 1073.74 806.52C1073.37 806.17 1073.01 805.8 1072.66 805.37C1071.75 804.49 1070.87 803.1 1070.26 801.89C1069.99 801.46 1069.75 801.03 1069.56 800.6C1069.18 800.14 1068.78 799.73 1068.35 799.4C1067.56 798.81 1066.68 798.49 1065.65 798.67C1065.4 798.71 1065.13 798.79 1064.86 798.89C1064.7 798.95 1064.54 799.03 1064.38 799.11C1064.66 799.3 1064.92 799.5 1065.17 799.71C1066.9 801.17 1067.81 803.02 1068.08 805.01C1068.37 807.17 1067.92 809.5 1066.96 811.67C1066.96 811.68 1066.96 811.69 1066.94 811.71C1066.84 811.94 1066.75 812.16 1066.64 812.38C1065.89 814 1064.93 815.54 1063.84 816.96C1063.79 817.02 1063.75 817.08 1063.7 817.14C1063.4 817.53 1063.09 817.9 1062.77 818.27C1062.7 818.36 1062.62 818.44 1062.54 818.53C1062.41 818.67 1062.29 818.81 1062.16 818.95C1062.09 819.02 1062.02 819.1 1061.96 819.17C1062.11 819.27 1062.27 819.37 1062.43 819.46C1062.53 819.51 1062.62 819.57 1062.72 819.62C1062.72 819.62 1062.78 819.65 1062.81 819.66C1063.71 820.08 1064.69 820.28 1065.7 820.3C1066.17 820.3 1066.64 820.27 1067.11 820.2C1067.33 820.17 1067.55 820.13 1067.76 820.08C1068.95 819.82 1070.14 819.35 1071.23 818.72C1072.19 818.17 1073.07 817.49 1073.84 816.74C1073.96 816.62 1074.08 816.5 1074.2 816.37C1074.89 815.62 1075.46 814.81 1075.87 813.95C1076.26 813.14 1076.5 812.3 1076.56 811.45V811.43Z"
            fill="#D6DCDF"
          />
          <path
            opacity="0.37"
            d="M1078.14 776.71C1060.75 737.65 1129.09 718.19 1132.79 765.62C1133.4 773.51 1127.97 783.33 1120.12 787.15L1078.15 776.71H1078.14Z"
            fill="white"
          />
          <path
            d="M1078.65 781.99C1075.6 783.26 1075.14 775.17 1082.69 774.46C1092.21 773.56 1114.13 779.51 1110.28 788.97C1108.82 792.55 1106.75 789.59 1103.31 787.65C1097.8 784.54 1084.39 779.6 1078.65 781.99Z"
            fill="#0A0A17"
          />
          <path
            d="M1125 755C1125 755 1135 767 1122 779C1116.55 784.03 1119 773 1123 768C1126.66 763.42 1125 755 1125 755Z"
            fill="#E2DBE2"
          />
          <path
            d="M1123.62 761.45C1122.42 762.48 1121.01 764.14 1121.01 764.14C1119.56 765.69 1121.86 768.74 1124.43 767.62C1126.7 766.64 1127.6 758 1123.61 761.44L1123.62 761.45Z"
            fill="#C0CEEA"
          />
          <path
            d="M1122.43 794.9C1120.5 802.61 1113.01 811.69 1109.87 819.01C1108.13 823.06 1106.52 827.16 1105.37 831.44C1105.37 831.44 1099.73 826.44 1098.88 825.89C1095.73 823.81 1093.45 823.68 1092.64 821.66C1091.28 818.25 1100.47 803.36 1101.9 801.94C1102.75 801.09 1105.13 802.53 1112.12 804.1C1114.75 804.59 1115.01 804.38 1114.11 803.81C1112.71 802.92 1105.73 800.33 1104.12 799.92C1101.84 799.35 1108.17 787.08 1108.16 787.04C1110.24 789.44 1122.44 794.42 1122.44 794.9H1122.43Z"
            fill="#304866"
          />
          <path
            d="M1134.7 805.97C1128.07 819.27 1124.84 833.14 1121.02 837.36C1119.34 839.22 1112.84 837.31 1109.2 834.72C1108.04 833.9 1106.82 832.9 1105.52 831.73C1105.46 831.66 1105.41 831.57 1105.38 831.45C1104.98 829.98 1116.52 805.43 1118.52 800.71C1118.91 799.79 1119.23 798.96 1119.48 798.25C1119.89 797.06 1120.07 796.23 1119.92 795.87C1118.74 793.4 1113.75 791.34 1110.25 789.33C1110.25 789.33 1108.34 788.27 1108.07 787.9C1107.96 787.74 1109 784.6 1110.34 784.05C1110.73 783.89 1114.58 785.02 1116.38 785.58C1126.12 788.63 1140.39 794.59 1134.71 805.99L1134.7 805.97Z"
            fill="#E2DBE2"
          />
          <path
            d="M1134.1 804.76C1133.8 806.15 1133.09 807.98 1133.09 807.98C1132.49 809.79 1129.09 809.29 1128.86 806.77C1128.66 804.56 1129.46 805.13 1129.87 803.55C1129.87 803.53 1129.67 802.14 1130.88 800.93C1131.89 799.92 1135.11 800.13 1134.1 804.75V804.76Z"
            fill="#59BAB6"
          />
          <path
            d="M1129.01 805.72C1125.14 805.06 1126.35 800.65 1129.46 799.9C1132.74 800.61 1132.32 805.55 1129.01 805.72Z"
            fill="#35302C"
          />
          <path
            d="M1127.93 812.13C1125.65 810.8 1118.68 803.86 1114.18 813.21C1106.13 829.91 1107.9 833.2 1106.94 832.93C1099.7 830.92 1119.42 798.92 1119.82 797.51C1119.02 800.33 1116.59 803.04 1119.31 804.96C1120.2 806.04 1132.44 810.53 1127.94 812.12L1127.93 812.13Z"
            fill="#A6BABF"
          />
          <path
            d="M1116.88 817.89C1117.3 817.02 1118.26 816.51 1119.21 816.74C1128.1 818.94 1122.79 827.07 1120.01 833.99C1120.01 833.99 1114.7 822.41 1116.89 817.88L1116.88 817.89Z"
            fill="#60A5D5"
          />
          <path
            d="M1118.64 817.93C1118.33 821.95 1111.52 829.24 1116.09 831.28C1116.8 831.6 1119.2 832.2 1120 833C1121 834 1120.58 834.46 1118.67 834.01C1110 832 1112.88 827.35 1115.73 821.33C1116.28 820.19 1117.14 815.02 1118.64 817.93Z"
            fill="#3772A7"
          />
          <path
            d="M1118.64 817.93C1126.39 820.78 1123.2 824.91 1120.62 831.13C1119.01 835.01 1116.39 832.49 1114.79 831.02C1112.85 827.38 1116.62 820.93 1118.64 817.93Z"
            fill="#3B82AD"
          />
          <path
            d="M1077.5 778.5C1077.5 778.5 1088.5 774.5 1106.14 784.71"
            stroke="#152C4D"
            strokeWidth="2"
            strokeLinecap="round"
            strokeLinejoin="round"
          />
        </g>
      </g>
    </g>
  );
};
